/* BTC Battery Page Styles */

.btc-battery-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
    color: #e0e0e0;
    font-family: 'Inter', sans-serif;
}

/* --- Hero Section --- */
.battery-hero {
    text-align: center;
    margin-bottom: 5rem;
    /* Increased spacing to 10rem */
    padding-top: 3rem;
}

.battery-title {
    font-size: 3rem;
    font-weight: 800;
    margin-bottom: 1.5rem;
    background: linear-gradient(90deg, var(--highlight-cyan, #00f0ff), #ffffff);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    text-transform: uppercase;
    letter-spacing: 3px;
}

.battery-subtitle {
    font-size: 1.25rem;
    line-height: 1.6;
    max-width: 800px;
    margin: 0 auto 4rem auto;
    color: #a0a0a0;
}

/* --- Shared Grid Layout --- */
/* This ensures all card sections align perfectly vertically */
.graphics-row,
.nomad-grid,
.grid-comparison {
    display: grid;
    grid-template-columns: 1fr 1fr;
    /* Two equal columns */
    gap: 2rem;
    width: 100%;
    margin: 0 auto;
    position: relative;
}

/* --- Graphic Layout --- */
.graphic-divider {
    display: none;
    /* No divider in grid layout */
}

.graphic-card {
    background: radial-gradient(circle at center, #1a2f45 0%, #050b14 70%);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    box-shadow: 0 0 30px rgba(0, 0, 0, 0.3);
    transition: transform 0.3s ease;
    height: 100%;
    /* Stretch to fill grid cell */
    min-width: 0;
    /* Prevent flex overflow issues */
}

.graphic-card:hover {
    transform: translateY(-5px);
    border-color: var(--highlight-cyan, #00f0ff);
}

.graphic-label {
    font-size: 1.5rem;
    margin-bottom: 1rem;
    text-transform: uppercase;
    letter-spacing: 2px;
    text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
}

.graphic-wrapper {
    width: 100%;
    overflow: hidden;
    flex-grow: 1;
    display: flex;
    justify-content: center;
    align-items: center;
}

.graphic-wrapper svg {
    max-width: 100%;
    height: auto;
    max-height: 300px;
}

/* --- Symmetry Section (Two Grids) --- */
.symmetry-section {
    margin-bottom: 6rem;
}

.section-header {
    text-align: center;
    margin-bottom: 3rem;
    font-size: 2.5rem;
    color: var(--highlight-cyan, #00f0ff);
    text-shadow: 0 0 20px rgba(0, 240, 255, 0.2);
}

.grid-card {
    background: rgba(20, 25, 35, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.1);
    padding: 2.5rem;
    border-radius: 12px;
    transition: transform 0.3s ease, border-color 0.3s ease;
    height: 100%;
}

.grid-card:hover {
    transform: translateY(-5px);
    border-color: var(--highlight-cyan, #00f0ff);
}

.grid-card h3 {
    font-size: 1.8rem;
    margin-bottom: 1.5rem;
    color: #fff;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    padding-bottom: 1rem;
}

.grid-card p {
    font-size: 1.1rem;
    line-height: 1.7;
    color: #ccc;
}

.highlight-energy {
    color: #ffcc00;
}

.highlight-bio {
    color: var(--highlight-orange, #ff4d00);
}

/* --- Arbitrage Section --- */
.arbitrage-section {
    margin-bottom: 6rem;
    padding: 0 0 2rem 0;
}

.nomad-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    width: 100%;
    margin: 0 auto;
    position: relative;
    /* align-items: stretch; implied by grid */
}

/* Base Wrapper - Static */
.nomad-card {
    position: relative;
    /* No z-index here to allow children to participate in global stack relative to Pulse if needed, 
       but since Pulse is Sibling, we rely on children popping up? 
       Actually, if NomadCard is static, its children (z-indexed) compete with Pulse (z-indexed).
    */
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    height: 100%;
    min-width: 0;
    /* Remove padding/bg from wrapper, moved to inner BG */
}

/* 
   We want the card background to be distinct from the content for z-indexing 
   Currently NomadCard is one div. The pulse line is in a separate sibling div.
   To make line appear ABOVE card bg but BELOW icon:
   - Line z-index: 15
   - NomadCard z-index: 10
   - Icon z-index: 20
   
   However, NomadCard is the parent of the icon. 
   If NomadCard has z-index 10, all its children (including icon) are in that stacking context.
   
   Solution:
   - Pulse Line is container-relative (z: 15).
   - NomadCards are container-relative (z: 10).
   - Icons need to "pop out" via transform: translateZ or similar hack, 
     OR strict separate layering which is hard here.
     
   Easier approach: 
   - Pulse Line z-index: 12.
   - NomadCard z-index: 10.
   - NomadCard content (icon, text) z-index: 15? No, they are children.
   
   If NomadCard has `position: relative; z-index: 10;`, a sibling at `z-index: 12` will be ON TOP of the whole card.
   This means the line will cover the text and icon.
   
   To fix:
   The icon inside NomadCard needs `position: relative; z-index: 20;` 
   BUT this only works if the parent stacking context allows it.
   Since NomadCard establishes a context (z-index: 10), z:20 inside is relative to z:10.
   Sibling pulse line at z:12 is sandwiched between NomadCard (bg) and... wait.
   
   Stacking Contexts:
   - Container
     - GraphicRow (grid)
     - ArbitrageSection (grid) relative
       - NomadCard (z:10)
         - Icon (z:auto -> inherits z:10 stack)
       - PulseConnector (z:12) (Absolute)
       - NomadCard (z:10)
   
   If PulseConnector is z:12, it is ABOVE NomadCard (z:10).
   So it covers the icon.
   
   The only way to have Line BETWEEN CardBg and Icon is if CardBg is separate DOM node from Icon.
   But NomadCard is one block.
   
   Alternative: `pointer-events: none` on the line so it doesn't block clicks.
   Visually, transparency might save us.
   Or we can make the line *start* at the icon edge?
   
   User requested: "z-height above the card but below the icons".
   This implies strict visual ordering.
   We can remove background from NomadCard wrapper, put a helper div for background (z:0), 
   put content in another helper (z:20), and pulse line in sibling (z:10).
   
   I will update ArbitrageSection.jsx to support this structure.
*/
.nomad-card.hovered .nomad-card-bg {
    background: rgba(20, 25, 30, 0.95);
    box-shadow: 0 0 40px rgba(0, 0, 0, 0.5);
    border-color: inherit;
}

.nomad-card-bg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(15, 20, 25, 0.9);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    z-index: 1;
    /* Layer Bottom */
    transition: box-shadow 0.3s ease, background 0.3s ease;
}

.nomad-content {
    position: relative;
    z-index: 20;
    /* Layer Top */
    padding: 2.5rem;
    /* Padding moved here */
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    height: 100%;
}

.card-icon {
    font-size: 2rem;
    margin-bottom: 1.5rem;
    width: 80px;
    height: 80px;
    border: 2px solid;
    border-radius: 50%;
    background: #0f1419;
    /* Opaque background to hide the line behind center */
    display: flex;
    justify-content: center;
    align-items: center;
    transition: all 0.3s ease;
    position: relative;
    z-index: 20;
}

.card-headline {
    font-size: 1.5rem;
    margin: 0 2rem 1rem 2rem;
    /* Added lateral margin */
    text-transform: uppercase;
    letter-spacing: 1px;
}

.card-body {
    font-size: 1rem;
    color: #ccc;
    line-height: 1.6;
    margin: 0 2rem;
    /* Added lateral margin */
}

/* Pulse Line Connector */
.pulse-connector {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 10;
    /* Layer Middle (Between BG and Content) */
    pointer-events: none;
    display: flex;
    align-items: flex-start;
    /* Align Top */
    padding-top: 65px;
    /* Offset to align with Icon Centers: 2.5rem padding + 40px half-icon ~ 40+40=80px? 
                          Let's assume Padding 2.5rem = 40px. Icon is 80x80. Center is at 40+40 = 80px from top.
                          So Padding Top of container.
                       */
}

.pulse-line-svg {
    width: 100%;
    height: 80px;
    /* Restrict height so it doesn't block other things if pointer-events wasn't none */
}


/* --- Valley of Death Section --- */
.valley-section {
    margin-bottom: 6rem;
    background: linear-gradient(90deg, rgba(20, 20, 30, 0) 0%, rgba(20, 25, 35, 0.8) 50%, rgba(20, 20, 30, 0) 100%);
    padding: 4rem 2rem;
    border-top: 1px solid rgba(255, 255, 255, 0.05);
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    text-align: center;
}

.valley-content {
    max-width: 900px;
    margin: 0 auto;
}

.valley-content h2 {
    font-size: 2.5rem;
    margin-bottom: 2rem;
    color: #ff4d4d;
}

.valley-content p {
    font-size: 1.2rem;
    line-height: 1.8;
    color: #ddd;
    margin-bottom: 1.5rem;
}

/* --- Mechanism Section --- */
.mechanism-section {
    margin-bottom: 6rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
}

.mechanism-content {
    max-width: 800px;
}

.mechanism-content h2 {
    font-size: 2.5rem;
    margin-bottom: 2rem;
    color: var(--highlight-cyan, #00f0ff);
}

.mechanism-text {
    font-size: 1.25rem;
    line-height: 1.8;
    color: #ccc;
}

/* --- Call to Action --- */
.cta-section {
    text-align: center;
    padding: 4rem 2rem;
    margin-bottom: 4rem;
}

.cta-text {
    font-size: 1.5rem;
    margin-bottom: 3rem;
    color: #fff;
    max-width: 700px;
    margin: 0 auto 3rem auto;
}

.cta-button {
    display: inline-block;
    padding: 1rem 3rem;
    background: transparent;
    border: 2px solid var(--highlight-orange, #ff4d00);
    color: var(--highlight-orange, #ff4d00);
    font-size: 1.2rem;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 2px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-decoration: none;
    border-radius: 4px;
}

.cta-button:hover {
    background: var(--highlight-orange, #ff4d00);
    color: #000;
    box-shadow: 0 0 30px var(--highlight-orange, #ff4d00);
}

/* Responsive adjustments */
@media (max-width: 1024px) {

    .graphics-row,
    .nomad-grid,
    .grid-comparison {
        grid-template-columns: 1fr;
    }

    .graphic-card,
    .nomad-card,
    .grid-card {
        max-width: 600px;
        margin: 0 auto;
    }

    .pulse-connector {
        display: none;
    }
}

@media (max-width: 768px) {
    .battery-title {
        font-size: 2.5rem;
    }
}